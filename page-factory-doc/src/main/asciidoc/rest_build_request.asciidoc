=== Сборка запроса из фичи

Можно не описывать параметры в `Entry` и формировать запрос "на лету" прямо в фиче. Для этого нужно сначала написать шаг 

[source, ]
----
    * пользователь заполняет запрос "Имя запроса"
----

Здесь и далее под именем запроса подразумевается значение `title` из аннотации `@Endpoint`

WARNING: Обратите внимание! Параметры могут быть не описаны, но класс обязательно должен быть

Теперь нужно добавить необходимые параметры. Сделать это можно одним из шагов:

*__Добавление одного параметра__*
[source, ]
----
    * пользователь добавляет query параметр с именем "query параметр" и значением "Значение параметра"
    * пользователь добавляет header параметр с именем "header параметр" и значением "Значение параметра"
    * пользователь добавляет body параметр с именем "body параметр" и значением "Значение параметра"
----

*__Добавление нескольких параметров__*
[source, ]
----
    * пользователь добавляет query параметры
        | query параметр 1 | Значение параметра 1 |
        | query параметр 2 | Значение параметра 2 |
        
    * пользователь добавляет header параметры
        | header параметр 1 | Значение параметра 1 |
        | header параметр 2 | Значение параметра 2 |
        
    * пользователь добавляет body параметры
        | body параметр 1 | Значение параметра 1 |
        | body параметр 2 | Значение параметра 2 |
----

Пример сборки запроса:

image::images/rest-fill-simple.png[]

*__Добавление параметра из ответа на запрос__*

Из заголовка:

[source, ]
----
    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" Header "header"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" Header "header"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" Header "header"
----

Из тела:

[source, ]
----
    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" Путь "body.path"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" Путь "body.path"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" Путь "body.path"
----

Из заголовка с наложением маски:

[source, ]
----
    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" Header "header" маскa "-(.*)-"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" Header "header" маскa "-(.*)-"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" Header "header" маскa "-(.*)-"
----

Из тела с наложением маски:

[source, ]
----
    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" Путь "body.path" маскa "-(.*)-"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" Путь "body.path" маскa "-(.*)-"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" Путь "body.path" маскa "-(.*)-"
----

NOTE: [aqua]#В качества параметра пути указыватся xpath или jpath путь до значения тела в соответствующей структуре#

После того, как все параметры заполнены нужно выполнить отправку собранного запроса:

[source, ]

* пользователь отправляет запрос

*__Пример подстановки из заголовка ответа__*

image::images/rest-response-header.png[]

*__Пример подстановки в тело запроса по маске__*

image::images/rest-response-mask.png[]
image::images/rest-response-mask2.png[]

*__Пример работы с маской__*

image::images/rest-response-body-mask.png[]
